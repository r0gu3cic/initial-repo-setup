name: dev pr check
run-name: ðŸš€ ${{ github.event.head_commit.message }} pr check triggered by ${{ github.actor }} ðŸš€
on:
    pull_request:
        types:
            - opened
            - synchronize
        branches:
            - develop
jobs:
    pr-check-stage:
        runs-on: ubuntu-latest
        timeout-minutes: 5
        steps:
            - run: echo "ðŸ”Ž Workflow is checking out code ðŸ”Ž"
            - name: Get the code
              uses: actions/checkout@v3
            - name: create .env file
              uses: SpicyPizza/create-envfile@v1.3
              with:
                envkey_SOME_API_KEY: "123456abcdef"
            - run: cat .env
            - run: echo "ðŸ”§ Preparing run environment ðŸ”§"
            # - name: Set node version
            #   uses: actions/setup-node@v3
            #   with:
            #       node-version: 20.2.0
            # - run: echo "ðŸ’» Installing dependencies ðŸ’»"
            # - run: npm install
            # - run: echo "ðŸ’» Running build test ðŸ’»"
            # - run: npm run build
            # - run: echo "ðŸ’» Running lint test ðŸ’»"
            # - run: npm run lint
            # Slack Notifications
            - name: Slack notification in the main channel
              if: always()
              uses: rtCamp/action-slack-notify@v2
              env:
                SLACK_CHANNEL: github-actions-deployment
                SLACK_COLOR: ${{ job.status }}
                SLACK_TITLE: 'Build and lint test info :bell:'
                SLACK_MESSAGE: |
                  Repo: ${{ github.repository }}
                  Test status: ${{ job.status }}
                SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}